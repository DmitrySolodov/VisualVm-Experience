# VisualVm-Experience
## Соотнесём код нашей программы с графиками из VisualVM
![2022-05-22_14-56-58](https://user-images.githubusercontent.com/101724652/169694150-91270a1b-5401-4466-a0bc-04759bcf80d0.png)
*Пункт первый:*
Выполняется метод loadToMetaspaceAllFrom, он загружает пакет "io.vertx". В результате в консоли видим сообщение "loaded 529 classes" и на графиках наблюдается увеличение количества классов и размер метаспейса (увеличилось примерно с 7 до 9 МВ).

*Пункт второй:*
Загружается пакет "io.netty". В консоли видим сообщение "loaded 2117 classes" и на графиках наблюдается увеличение количества классов и размер метаспейса (увеличилось примерно с 9 до 22 МВ). 

*Пункт третий:*
Загружается пакет "org.springframework". В консоли видим сообщение "loaded 869 classes" и на графиках наблюдается увеличение количества классов и размер метаспейса (увеличилось примерно с 22 до 25 МВ). 

![2022-05-22_15-15-42](https://user-images.githubusercontent.com/101724652/169695657-564426fb-fead-4d2d-9e30-0ba491d78574.png)
*Пункт четвертый:*
Во время подгрузки классов JVM уменьшила дефолтное значение хипа, снизив его до 40 МВ, т.к. в этот момент новых объектов не создавалось и этой памяти было достаточно.

*Пункт пятый:*
После подгрузки и инициализацации классов программа выполнила метод createSimpleObjects, создав таким образом ArrayList с 5 млн записями, сообщив об этом в консоль. Увеличился размер хипа с 40 до 465 МВ. Использование памяти хипа при этом выросло с 6 до 192 МВ.

*Пункт шестой:*
Добавление в лист другого листа (вновь созданного с 5 млн записей). Размер хипа увеличился с 465 до 1,396 МВ. Использование памяти хипа при этом выросло со 192 до 461 МВ.

*Пункт седьмой:*
Аналогичная операция с добавлением 5 млн записей. Использование памяти хипа выросло со 461 до 725 МВ, но при этом JVM уже не увеличила размер хипа, т.к. текущего было достаточно для хранения такого количества объектов.
